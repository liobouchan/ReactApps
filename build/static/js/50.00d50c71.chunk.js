(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{272:function(e,t,a){"use strict";t.a={BEGONIA_API_URL:"http://192.168.1.174:7001/",REGULATION_API_URL:"http://192.168.1.174:7002/",NEO4J_URL:"bolt://192.168.1.174"}},525:function(e,t,a){"use strict";a.r(t);var n=a(85),l=a(86),c=a(88),i=a(87),s=a(89),o=a(90),r=a(479),u=a(0),m=a.n(u),g=a(363),h=a(364),d=a(365),E=a(248),b=a(249),f=a(251),p=a(253),N=a(252),O=a(280),w=a(313),S=a(264),v=a(266),L=a(265),y=a(250),j=a(362),I=a(262),P=a(272),k=function(e){return P.a.REGULATION_API_URL+"obligations?start=".concat(e,"&size=10")},x=function(e){var t=e.list;e.page,e.isLoading,e.onPaginatedSearch;return t.map(function(e){var t=e.nombre,a=e.descripcion,n=e.contenido,l=e.titulo,c=e.seccion,i=e.capitulo,s=e.apartado,o=e.subApartado;return l="null"!=l?l:" ",c="null"!=c?c:" ",i="null"!=i?i:" ",s="null"!=s?s:" ",o="null"!=o?o:" ",m.a.createElement("div",null,m.a.createElement(g.a,{action:!0},m.a.createElement(h.a,{className:"d-flex justify-content-between"},m.a.createElement("h5",null,a),m.a.createElement("h6",{className:"text-muted"},t)),m.a.createElement(d.a,null,m.a.createElement("h6",{className:"font-weight-light"},l),m.a.createElement("h6",{className:"font-weight-light"},i),m.a.createElement("h6",{className:"font-weight-light"},c),m.a.createElement("h6",{className:"font-weight-light"},s),m.a.createElement("h6",{className:"font-weight-light"},o),m.a.createElement("br",null),n,m.a.createElement("br",null),m.a.createElement("br",null))))})},R=function(e){return function(t){return{obligations:[].concat(Object(r.a)(t.obligations),Object(r.a)(e.data)),page:e.actualPage,isLoading:!1}}},A=function(e){return function(t){return{obligations:[].concat(Object(r.a)(t.obligations),Object(r.a)(e.data)),page:e.actualPage,isLoading:!1}}},_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).onPaginatedSearch=function(e){return a.fetchObligations(a.state.page+1)},a.fetchObligations=function(e){a.setState({isLoading:!0}),fetch(k(e)).then(function(e){return e.json()}).then(function(t){return a.onSetResult(t,e)})},a.onSetResult=function(e,t){return 0===t?a.setState(A(e)):a.setState(R(e))},a.loading=function(){return m.a.createElement("div",{className:"animated fadeIn pt-1 text-center"}," Loading... ")},a.handleSubmit=a.handleSubmit.bind(Object(o.a)(Object(o.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(o.a)(Object(o.a)(a))),a.state={keywords:"",obligations:[],page:null,totalPages:"0",items:"0",isLoading:!1,search:!1},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){this.setState({keywords:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;console.log("Click en Buscar"),e.preventDefault(),console.log(this.state.keywords);var a=this.state.keywords;fetch(P.a.REGULATION_API_URL+"obligations/"+a).then(function(e){return e.json()}).then(function(e){t.setState({page:null}),t.setState({totalPages:e.totalPages}),t.setState({items:e.items}),t.setState({obligations:e.data})})}},{key:"renderTableData",value:function(){return this.state.obligations.map(function(e){var t=e.nombre,a=e.descripcion,n=e.contenido,l=e.titulo,c=e.seccion,i=e.capitulo,s=e.apartado,o=e.subApartado;return l="null"!=l?l:" ",c="null"!=c?c:" ",i="null"!=i?i:" ",s="null"!=s?s:" ",o="null"!=o?o:" ",m.a.createElement(g.a,{action:!0},m.a.createElement(h.a,{className:"d-flex justify-content-between"},m.a.createElement("h5",null,a),m.a.createElement("h6",{className:"text-muted"},t)),m.a.createElement(d.a,null,m.a.createElement("h6",{className:"font-weight-light"},l),m.a.createElement("h6",{className:"font-weight-light"},i),m.a.createElement("h6",{className:"font-weight-light"},c),m.a.createElement("h6",{className:"font-weight-light"},s),m.a.createElement("h6",{className:"font-weight-light"},o),m.a.createElement("br",null),n,m.a.createElement("br",null),m.a.createElement("br",null)))})}},{key:"componentDidMount",value:function(){var e=this;fetch(P.a.REGULATION_API_URL+"obligations?start=0&size=10").then(function(e){return e.json()}).then(function(t){console.log("Obtained REST data: ",t),console.log("Obtained Obligations: ",t.data),e.setState({page:t.actualPage}),e.setState({totalPages:t.totalPages}),e.setState({items:t.items}),e.setState({obligations:t.data}),console.log("Estado Actual de State: ",e.state)})}},{key:"render",value:function(){return m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(E.a,{className:"mt-3"},m.a.createElement(b.a,{md:12,xl:12,lg:12},m.a.createElement(f.a,null,m.a.createElement(p.a,null,m.a.createElement("strong",null,"B\xfasqueda de obligaciones espec\xedficas")),m.a.createElement(N.a,null,m.a.createElement(E.a,null,m.a.createElement(b.a,{sm:6,md:6,lg:6,xl:6},m.a.createElement(E.a,null,m.a.createElement(b.a,{sm:3,md:3,lg:3,xl:3},m.a.createElement("div",{className:"callout callout-info"},m.a.createElement("h5",{className:"text-muted"},"Obligaciones"),m.a.createElement("strong",{className:"h4"},this.state.items))),m.a.createElement(b.a,{sm:9,md:9,lg:9,xl:9},m.a.createElement(O.a,{onSubmit:this.handleSubmit},m.a.createElement(w.a,{row:!0},m.a.createElement(b.a,{md:12,xl:12,lg:12,className:"mt-3"},m.a.createElement(S.a,null,m.a.createElement(v.a,{type:"text",id:"keywords",name:"input-obligacion",placeholder:"Obligacion",value:this.state.keywords,onChange:this.handleInputChange}),m.a.createElement(L.a,{addonType:"append"},m.a.createElement(y.a,{type:"submit",color:"primary"},m.a.createElement("i",{className:"fa fa-search"})," Buscar"))))))))),m.a.createElement(b.a,{md:12,xl:12,lg:12},m.a.createElement(b.a,{md:12,xl:12,lg:12},m.a.createElement(f.a,{className:"border-primary"},m.a.createElement(p.a,null,m.a.createElement("i",{className:"icons font-2xl cui-arrow-bottom"})," Obligaciones",m.a.createElement("small",null," Resultados de b\xfasqueda")),m.a.createElement(N.a,null,m.a.createElement(j.a,null,m.a.createElement(x,{list:this.state.obligations,isLoading:this.state.isLoading,page:this.state.page}))),m.a.createElement(I.a,null,m.a.createElement("center",null,m.a.createElement("div",{className:"interactions"},this.state.isLoading&&m.a.createElement("span",null,"Loading...")),m.a.createElement("div",{className:"interactions"},null!==this.state.page&&!this.state.isLoading&&m.a.createElement(y.a,{type:"button",color:"primary",onClick:this.onPaginatedSearch}," Ver M\xe1s ")))))))))))))}}]),t}(u.Component);t.default=_}}]);
//# sourceMappingURL=50.00d50c71.chunk.js.map