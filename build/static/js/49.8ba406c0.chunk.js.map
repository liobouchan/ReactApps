{"version":3,"sources":["consts.js","views/AllGood/GraphViewer/Grapho.js","views/AllGood/GraphViewer/GraphViewer.js"],"names":["__webpack_exports__","BEGONIA_API_URL","REGULATION_API_URL","NEO4J_URL","myConfig","automaticRearrangeAfterDropNode","collapsible","directed","focusAnimationDuration","focusZoom","height","highlightDegree","highlightOpacity","linkHighlightBehavior","maxZoom","minZoom","nodeHighlightBehavior","panAndZoom","staticGraph","width","d3","alphaTarget","gravity","linkLength","linkStrength","node","color","fontColor","fontSize","fontWeight","highlightColor","highlightFontSize","highlightFontWeight","highlightStrokeColor","highlightStrokeWidth","labelProperty","mouseCursor","opacity","renderLabel","size","strokeColor","strokeWidth","svg","symbolType","link","semanticStrokeWidth","Grapho","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","config","data","nodes","id","nombre","links","_this2","console","log","idArticle","fetch","CONST","then","response","json","setState","_this3","sendNodeId","nodeId","clickedNodeId","sendClickedNodeId","react_default","a","createElement","lib","onClickNode","Component","GraphViewer","loading","className","toggle","bind","assertThisInitialized","toggleFade","handleSubmit","handleInputChange","collapse","regulation","articleValue","articleName","articleDescription","articleContent","title","chapter","section","apart","subApart","clickedNodeIdFromGraph","idSearchedArticle","prevState","fadeIn","editEvent","target","value","event","preventDefault","articleToSearch","article","descripcion","contenido","titulo","capitulo","seccion","apartado","subApartado","Row","Col","md","xl","lg","GraphViewer_Grapho","Card","CardHeader","CardBody","Form","onSubmit","FormGroup","row","InputGroup","Input","type","name","placeholder","onChange","InputGroupAddon","addonType","Button","xs","rows","data-toggle","data-target","onClick","aria-expanded","Collapse","isOpen","CardFooter"],"mappings":"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","file":"static/js/49.8ba406c0.chunk.js","sourcesContent":["export default {\r\n  BEGONIA_API_URL:\"http://192.168.1.174:7001/\",\r\n  REGULATION_API_URL:\"http://192.168.1.174:7002/\",\r\n  NEO4J_URL: \"bolt://192.168.1.174\"\r\n}","import React, {\r\n  Component\r\n} from 'react';\r\nimport { Graph } from 'react-d3-graph';\r\nimport CONST from '../../../consts'\r\n\r\n// the graph configuration, you only need to pass down properties\r\n// that you want to override, otherwise default ones will be used\r\nconst myConfig = {\r\n  \"automaticRearrangeAfterDropNode\": false,\r\n  \"collapsible\": false,\r\n  \"directed\": true,\r\n  \"focusAnimationDuration\": 0.75,\r\n  \"focusZoom\": 1,\r\n  \"height\": 1400,\r\n  \"highlightDegree\": 1,\r\n  \"highlightOpacity\": 1,\r\n  \"linkHighlightBehavior\": true,\r\n  \"maxZoom\": 8,\r\n  \"minZoom\": 0.1,\r\n  \"nodeHighlightBehavior\": true,\r\n  \"panAndZoom\": false,\r\n  \"staticGraph\": false,\r\n  \"width\": 1400,\r\n  \"d3\": {\r\n    \"alphaTarget\": 0.05,\r\n    \"gravity\": -100,\r\n    \"linkLength\": 100,\r\n    \"linkStrength\": 1\r\n  },\r\n  \"node\": {\r\n    \"color\": \"#00ACAB\",\r\n    \"fontColor\": \"black\",\r\n    \"fontSize\": 10,\r\n    \"fontWeight\": \"normal\",\r\n    \"highlightColor\": \"#F9F871\",\r\n    \"highlightFontSize\": 8,\r\n    \"highlightFontWeight\": \"normal\",\r\n    \"highlightStrokeColor\": \"black\",\r\n    \"highlightStrokeWidth\": \"SAME\",\r\n    \"labelProperty\": \"nombre\",\r\n    \"mouseCursor\": \"pointer\",\r\n    \"opacity\": 1,\r\n    \"renderLabel\": true,\r\n    \"size\": 300,\r\n    \"strokeColor\": \"#906DB1\",\r\n    \"strokeWidth\": 1.5,\r\n    \"svg\": \"\",\r\n    \"symbolType\": \"circle\"\r\n  },\r\n  \"link\": {\r\n    \"color\": \"#E6F4F1\",\r\n    \"fontColor\": \"black\",\r\n    \"fontSize\": 8,\r\n    \"fontWeight\": \"normal\",\r\n    \"highlightColor\": \"black\",\r\n    \"highlightFontSize\": 12,\r\n    \"highlightFontWeight\": \"normal\",\r\n    \"labelProperty\": \"type\",\r\n    \"mouseCursor\": \"pointer\",\r\n    \"opacity\": 1,\r\n    \"renderLabel\": true,\r\n    \"semanticStrokeWidth\": false,\r\n    \"strokeWidth\": 1.5\r\n  }\r\n};\r\n\r\nclass Grapho extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      config : myConfig,\r\n      data :{\r\n          \"nodes\": [{\r\n                  \"id\": 777777777777777,\r\n                  \"nombre\": \"Init Graph\"\r\n                }],\r\n          \"links\": []\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(this.props.idArticle)\r\n    fetch(CONST.REGULATION_API_URL+\"graph\")\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(\"Data del REST: \" , data);\r\n        this.setState({data:data})\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const onClickNode = function(node) {\r\n      sendNodeId(node)\r\n    };\r\n\r\n    const sendNodeId = (nodeId) => {\r\n      let clickedNodeId = nodeId\r\n      this.props.sendClickedNodeId(clickedNodeId)\r\n    }\r\n\r\n    const idArticle = this.props.idArticle\r\n    //console.log(idArticle)\r\n    if(idArticle != null){\r\n      fetch(CONST.REGULATION_API_URL+\"graph/\"+idArticle)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        this.setState({data:data})\r\n      })\r\n    }\r\n\r\n    return (\r\n      <Graph\r\n      id=\"graph-container\" // id is mandatory, if no id is defined rd3g will throw an error\r\n      config={this.state.config}\r\n      data={this.state.data}\r\n      onClickNode={onClickNode}\r\n      />\r\n      )\r\n    }\r\n  }\r\n  export default Grapho;","import React, {\r\n  Component\r\n} from 'react';\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  CardHeader,\r\n  Collapse,\r\n  Col,\r\n  Form, \r\n  FormGroup,\r\n  Input,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  Row,\r\n} from 'reactstrap';\r\nimport Grapho from './Grapho';\r\nimport CONST from '../../../consts';\r\n\r\nclass GraphViewer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.toggleFade = this.toggleFade.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.state = {\r\n      collapse: true,\r\n      regulation : \"Circular Única de Bancos\",\r\n      articleValue : \"\",\r\n      articleName : \"\",\r\n      articleDescription : \"\",\r\n      articleContent: \"\",\r\n      title: \"\",\r\n      chapter: \"\",\r\n      section: \"\",\r\n      apart: \"\",\r\n      subApart: \"\",\r\n      clickedNodeIdFromGraph: null,\r\n      idSearchedArticle: null\r\n    }\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({ collapse: !this.state.collapse });\r\n  }\r\n\r\n  toggleFade() {\r\n    this.setState((prevState) => { return { fadeIn: !prevState }});\r\n  }\r\n\r\n  handleInputChange(editEvent){\r\n    this.setState({\r\n      articleValue: editEvent.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    console.log('Click en Buscar');\r\n    event.preventDefault(); \r\n    console.log(this.state.articleValue);\r\n    let articleToSearch = this.state.articleValue\r\n    fetch(CONST.REGULATION_API_URL+\"articles/\"+articleToSearch)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      if(data.article != null){\r\n        console.log(\"Dato del articulo: \" , data.article);\r\n        if(data.article.nombre == \"null\"){data.article.nombre = \"\"}\r\n        if(data.article.descripcion == \"null\"){data.article.descripcion = \"\"}\r\n        if(data.article.contenido == \"null\"){data.article.contenido = \"\"}\r\n        if(data.article.titulo == \"null\"){data.article.titulo = \"\"}\r\n        if(data.article.capitulo == \"null\"){data.article.capitulo = \"\"}\r\n        if(data.article.seccion == \"null\"){data.article.seccion = \"\"}\r\n        if(data.article.apartado == \"null\"){data.article.apartado = \"\"}\r\n        if(data.article.subApartado == \"null\"){data.article.subApartado = \"\"}\r\n        this.setState({\r\n          articleName: data.article.nombre,\r\n          articleDescription : data.article.descripcion,\r\n          articleContent: data.article.contenido,\r\n          title: data.article.titulo,\r\n          chapter: data.article.capitulo,\r\n          section: data.article.seccion,\r\n          apart: data.article.apartado,\r\n          subApart: data.article.subApartado,\r\n          idSearchedArticle: data.article.id\r\n        })\r\n      }\r\n    })\r\n  }\r\n  \r\n  loading = () => <div className = \"animated fadeIn pt-1 text-center\"> Loading... </div>\r\n\r\n  render() {\r\n\r\n    const getNodeIdFromGraph = (clickedNodeId) => {\r\n      this.setState({ clickedNodeIdFromGraph: clickedNodeId });\r\n      //if(this.state.clickedNodeIdFromGraph != \"null\"){\r\n        console.log(\"Buscar información por id(nodo) = \",this.state.clickedNodeIdFromGraph)\r\n        fetch(CONST.REGULATION_API_URL+\"graph/nodes/\"+this.state.clickedNodeIdFromGraph)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            if(data.nombre == \"null\"){data.nombre = \"\"}\r\n            if(data.descripcion == \"null\"){data.descripcion = \"\"}\r\n            if(data.contenido == \"null\"){data.contenido = \"\"}\r\n            if(data.titulo == \"null\"){data.titulo = \"\"}\r\n            if(data.capitulo == \"null\"){data.capitulo = \"\"}\r\n            if(data.seccion == \"null\"){data.seccion = \"\"}\r\n            if(data.apartado == \"null\"){data.apartado = \"\"}\r\n            if(data.subApartado == \"null\"){data.subApartado = \"\"}\r\n            this.setState({\r\n              articleName: data.nombre,\r\n              articleDescription : data.descripcion,\r\n              articleContent: data.contenido,\r\n              title: data.titulo,\r\n              chapter: data.capitulo,\r\n              section: data.seccion,\r\n              apart: data.apartado,\r\n              subApart: data.subApartado,\r\n              //idSearchedArticle: this.state.clickedNodeIdFromGraph\r\n            })\r\n          })\r\n      //}\r\n    }\r\n\r\n    \r\n\r\n\r\n    return ( \r\n      <div className = \"animated fadeIn\">\r\n        <Row className=\"mt-2\">\r\n          <Col md={9} xl={9} lg={9} id=\"graph-container\">\r\n            <Grapho sendClickedNodeId={getNodeIdFromGraph} idArticle={this.state.idSearchedArticle}/>\r\n          </Col>\r\n          <Col md={3} xl={3} lg={3}>\r\n            <div className=\"border-top border-left border-right pt-1\"><center><h5>{this.state.regulation}</h5></center></div>\r\n            <Card>\r\n              <CardHeader>\r\n                <i className=\"cui-info\"></i>\r\n                Búsqueda de Información\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                  <FormGroup row>\r\n                    <Col md={12} xl={12} lg={12}>\r\n                      <InputGroup>\r\n                        <Input type=\"text\" id=\"articulo\" name=\"input-articulo\" placeholder=\"Artículo\" value={this.state.articleValue} onChange={this.handleInputChange}/>\r\n                          <InputGroupAddon addonType=\"append\">\r\n                            <Button type=\"submit\" color=\"primary\"><i className=\"fa fa-search\"></i> Buscar</Button>\r\n                          </InputGroupAddon>\r\n                      </InputGroup>\r\n                    </Col>\r\n                  </FormGroup>\r\n                </Form>\r\n                {/* Nombre */}\r\n                <FormGroup row>\r\n                  {/* <Col md=\"3\">\r\n                    <Label htmlFor=\"textarea-input\">Nombre :</Label>\r\n                  </Col> */}\r\n                  <Col xs=\"12\" md=\"12\">\r\n                    <Input type=\"textarea\" name=\"textarea-input\" id=\"textoNombre\" rows=\"1\" placeholder=\"Nombre del Artículo\" value={this.state.articleName}/>\r\n                  </Col>\r\n                </FormGroup>\r\n                {/* Descripcion */}\r\n                <FormGroup row>\r\n                  {/* <Col md=\"3\">\r\n                    <Label htmlFor=\"textarea-input\">Descripción :</Label>\r\n                  </Col> */}\r\n                  <Col xs=\"12\" md=\"12\">\r\n                    <Input type=\"textarea\" name=\"textarea-input\" id=\"textoDescripcion\" rows=\"1\" placeholder=\"Descripción del Artículo\" value={this.state.articleDescription}/>\r\n                  </Col>\r\n                </FormGroup>\r\n                {/* Contenido */}\r\n                <FormGroup row>\r\n                  {/* <Col md=\"3\">\r\n                    <Label htmlFor=\"textarea-input\">Contenido :</Label>\r\n                  </Col> */}\r\n                  <Col xs=\"12\" md=\"12\">\r\n                    <Input type=\"textarea\" name=\"textarea-input\" id=\"textoContenido\" rows=\"9\" placeholder=\"Contenido del Artículo\" value={this.state.articleContent}/>\r\n                  </Col>\r\n                </FormGroup>\r\n                {/* Card De Pertenencia */}\r\n                <Card className=\"border-primary\">\r\n                  <CardHeader>\r\n                  <div className=\"card-header-actions\">\r\n                    <a className=\"card-header-action btn btn-minimize\" data-toggle=\"collapse\" data-target=\"#collapseContext\" onClick={this.toggle} aria-expanded=\"true\"><i className=\"icon-arrow-up\"></i></a>\r\n                  </div>\r\n                  </CardHeader>\r\n                  <Collapse isOpen={this.state.collapse} id=\"collapseContext\">\r\n                    <CardBody>\r\n                      {/* Titulo */}\r\n                      <FormGroup row>\r\n                        {/* <Col md=\"3\">\r\n                          <Label htmlFor=\"text-input\">Título :</Label>\r\n                        </Col> */}\r\n                        <Col xs=\"12\" md=\"12\">\r\n                          <Input type=\"text\" name=\"text-input\" id=\"textoTitulo\" placeholder=\"Título de pertenencia\" value={this.state.title}/>\r\n                        </Col>\r\n                      </FormGroup>\r\n                      {/* Capítulo */}\r\n                      <FormGroup row>\r\n                        {/* <Col md=\"3\">\r\n                          <Label htmlFor=\"text-input\">Capítulo :</Label>\r\n                        </Col> */}\r\n                        <Col xs=\"12\" md=\"12\">\r\n                          <Input type=\"text\" name=\"text-input\" id=\"textoCapitulo\" placeholder=\"Capítulo de pertenencia\" value={this.state.chapter}/>\r\n                        </Col>\r\n                      </FormGroup>\r\n                      {/* Sección */}\r\n                      <FormGroup row>\r\n                        {/* <Col md=\"3\">\r\n                          <Label htmlFor=\"text-input\">Sección :</Label>\r\n                        </Col> */}\r\n                        <Col xs=\"12\" md=\"12\">\r\n                          <Input type=\"text\" name=\"text-input\" id=\"textoSeccion\" placeholder=\"Sección de pertenencia\" value={this.state.section}/>\r\n                        </Col>\r\n                      </FormGroup>\r\n                      {/* Apartado */}\r\n                      <FormGroup row>\r\n                        {/* <Col md=\"3\">\r\n                          <Label htmlFor=\"text-input\">Apartado :</Label>\r\n                        </Col> */}\r\n                        <Col xs=\"12\" md=\"12\">\r\n                          <Input type=\"text\" name=\"text-input\" id=\"textoApartado\" placeholder=\"Apartado de pertenencia\" value={this.state.apart}/>\r\n                        </Col>\r\n                      </FormGroup>\r\n                      {/* subApartado */}\r\n                      <FormGroup row>\r\n                        {/* <Col md=\"3\">\r\n                          <Label htmlFor=\"text-input\">Sub Apartado :</Label>\r\n                        </Col> */}\r\n                        <Col xs=\"12\" md=\"12\">\r\n                          <Input type=\"text\" name=\"text-input\" id=\"textoSubApartado\" placeholder=\"Sub Apartado de pertenencia\" value={this.state.subApart}/>\r\n                        </Col>\r\n                      </FormGroup>\r\n                    </CardBody>\r\n                  </Collapse>\r\n                </Card>\r\n              </CardBody>\r\n              <CardFooter>\r\n                <Button type=\"reset\" color=\"danger\"><i className=\"fa fa-ban\"></i> Limpiar</Button>\r\n              </CardFooter>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default GraphViewer;\r\n"],"sourceRoot":""}